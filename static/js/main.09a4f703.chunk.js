(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),c=a.n(s),i=(a(29),a(1)),o=a(2),u=a(4),l=a(3),m=a(5),p=a(10),d="SET_ACTIVE_USER_ID",f="SET_TYPING_VALUE",h="SEND_MESSAGE",v=a(6),g=(a(34),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleUserClick=a.handleUserClick.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleUserClick",value:function(){this.props.setActiveUserId(this.props.user.user_id)}},{key:"render",value:function(){var e=this.props.user,t=e.name,a=e.profile_pic,n=e.status;return r.a.createElement("div",{className:"user",onClick:this.handleUserClick},r.a.createElement("img",{src:a,alt:t,className:"user_img"}),r.a.createElement("div",{className:"user_details"},r.a.createElement("p",{className:"user_name"},t),r.a.createElement("p",{className:"user_status"},n)))}}]),t}(n.Component)),b=Object(v.b)(null,function(e){return{setActiveUserId:function(t){return e({type:d,payload:t})}}})(g),y=(a(35),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("aside",{className:"sidebar"},this.props.contacts.map(function(e){return r.a.createElement(b,{key:e.user_id,user:e})}))}}]),t}(n.Component)),E=(a(36),a(37),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.name,a=e.profile_pic,n=e.status,s=t.split(" ")[0];return r.a.createElement("div",{className:"empty"},r.a.createElement("h1",{className:"empty_name"}," Welcome, ",s),r.a.createElement("img",{src:a,alt:t,className:"empty_img"}),r.a.createElement("p",{className:"empty_status"},r.a.createElement("b",null,"Status:"),n),r.a.createElement("button",{className:"empty_btn"}," Start a converstion"),r.a.createElement("p",{className:"empty_info"}," Search for someone to start chatting with or go to the contacts to see who is available."))}}]),t}(n.Component)),j=(a(38),a(7)),O=a.n(j);a(40);function _(e){var t=e.user,a=t.name,n=t.status;return r.a.createElement("header",{className:"Header"},r.a.createElement("h1",{className:"header_name"},a),r.a.createElement("p",{className:"header_status"},n))}a(41);var N=function(e){var t=e.message,a=t.text,n=t.is_user_msg;return r.a.createElement("span",{className:"chat ".concat(n?"is-user-msg":"")},a)},k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).scrollToBottom=function(){a.chatRef.current.scrollTop=a.chatRef.current.scrollHeight},a.chatRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return r.a.createElement("div",{className:"chats",ref:this.chatRef},this.props.messages.map(function(e){return r.a.createElement(N,{message:e,key:e.number})}))}}]),t}(n.Component);a(42);var w=Object(v.b)(null,function(e){return{sendMessage:function(t,a){return e({type:h,payload:{message:t,userId:a}})},setTypingValue:function(t){return e({type:f,payload:t})}}})(function(e){var t=e.typing,a=e.activeUserId,n=e.value,s=e.sendMessage,c=e.setTypingValue;return r.a.createElement("form",{className:"message",onSubmit:function(e){e.preventDefault(),s(t,a)}},r.a.createElement("input",{className:"message_input",onChange:function(e){c(e.target.value)},value:n,placeholder:"write a message"}))}),U=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contacts,a=e.messages,n=e.typing,s=e.activeUserId,c=t[s],i=a[s];return r.a.createElement("div",{className:"chatWindow"},r.a.createElement(_,{user:c}),r.a.createElement(k,{messages:O.a.values(i)}),r.a.createElement(w,{typing:n,activeUserId:s,value:n}))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"renderMainComponent",value:function(){var e=this.props,t=e.contacts,a=e.user,n=e.messages,s=e.typing,c=e.activeUserId;return c?r.a.createElement(U,{contacts:t,messages:n,typing:s,activeUserId:c}):r.a.createElement(E,{user:a,activeUserid:c})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},this.renderMainComponent())}}]),t}(n.Component);a(43);var C=Object(v.b)(function(e){return{contacts:e.contacts.contacts,user:e.user,typing:e.typing,messages:e.messages,activeUserId:e.activeUserId}},null)(function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{contacts:O.a.values(e.contacts)}),r.a.createElement(I,e))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S,T=a(8),A=a(16),M=a(44),R=a(53),B=a(54),D=a(7),x=(S=10,Array.from({length:S},function(){return G()})),V=D.mapKeys(x,"user_id"),W=function(e){var t={};return D.forEach(x,function(a){var n;t[a.user_id]=Object(A.a)({},D.mapKeys((n=e,Array.from({length:n},function(e,t){return{number:t,text:R.sentence(),is_user_msg:B.random.boolean()}})),"number"))}),t};G(),W(10);function G(){return{name:B.name.findName(),email:B.internet.email(),profile_pic:B.internet.avatar(),status:R.sentence(),user_id:M.generate()}}var H=a(11);var J=Object(T.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();return arguments.length>1&&arguments[1],e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contacts:V};return(arguments.length>1?arguments[1]:void 0).type,e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var a=t.payload,n=a.message,r=a.userId,s=e[r],c=+O.a.keys(s).pop()+1;return Object.assign({},e,Object(H.a)({},r,Object(A.a)({},s,Object(H.a)({},c,{number:c,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;case h:return"";default:return e}},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.payload;default:return e}}}),K=a(23),L=Object(T.d)(J,Object(T.a)(K.logger));c.a.render(r.a.createElement(v.a,{store:L},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},24:function(e,t,a){e.exports=a(1101)},29:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){}},[[24,1,2]]]);
//# sourceMappingURL=main.09a4f703.chunk.js.map